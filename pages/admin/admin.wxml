<!--pages/admin/admin.wxml-->
<view class="admin-container">
  <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <view class="custom-navbar">
    <view class="navbar-left"></view>
    <view class="navbar-center"></view>
    <view class="navbar-right"></view>
  </view>

  <!-- å›é€€æŒ‰é’® -->
  <view class="floating-back-btn" bindtap="onBackTap">
    <image src="/images/back-arrow.svg" class="back-arrow-icon" />
  </view>

  <!-- é¡µé¢å†…å®¹ -->
  <view class="admin-content">
    <!-- æ•°æ®çœ‹æ¿æ ‡é¢˜ -->
    <view class="dashboard-header">
      <view class="dashboard-title">æ•°æ®çœ‹æ¿</view>
      <view class="dashboard-subtitle">å…¨æ—¶ç›‘æ§ä¸šåŠ¡å…³é”®æŒ‡æ ‡</view>
    </view>

    <!-- æ•°æ®å¡ç‰‡åŒºåŸŸï¼ˆåŒ…å«å¾…å¤„ç†äº‹é¡¹ï¼‰ -->
    <view class="data-cards-section">
      <!-- ä»Šæ—¥é”€å”®é¢ -->
      <view class="data-card">
        <view class="card-header">
          <view class="card-title">ä»Šæ—¥é”€å”®é¢</view>
        </view>
        <view class="card-value">Â¥{{stats.todaySales}}</view>
        <view class="card-change positive">
          <text>+{{stats.salesGrowth}}%</text>
        </view>
      </view>

      <!-- ä»Šæ—¥è®¢å• -->
      <view class="data-card">
        <view class="card-header">
          <view class="card-title">ä»Šæ—¥è®¢å•</view>
        </view>
        <view class="card-value">{{stats.todayOrders}}</view>
        <view class="card-change positive">
          <text>+{{stats.ordersGrowth}}%</text>
        </view>
      </view>

      <!-- æ–°å¢ç”¨æˆ· -->
      <view class="data-card">
        <view class="card-header">
          <view class="card-title">æ–°å¢ç”¨æˆ·</view>
        </view>
        <view class="card-value">{{stats.newUsers}}</view>
        <view class="card-change negative">
          <text>-{{stats.usersChange}}%</text>
        </view>
      </view>

      <!-- å¾…å¤„ç†è®¢å• -->
      <view class="data-card">
        <view class="card-header">
          <view class="card-title">å¾…å¤„ç†è®¢å•</view>
        </view>
        <view class="card-value">{{stats.pendingOrders}}</view>
        <view class="card-warning">éœ€è¦å…³æ³¨</view>
      </view>

      <!-- å¾…å‘è´§è®¢å• -->
      <view class="data-card clickable" bindtap="onPendingOrdersTap">
        <view class="card-header">
          <view class="card-title">å¾…å‘è´§è®¢å•</view>
        </view>
        <view class="card-value">{{stats.pendingShipment}}</view>
        <view class="card-action">ç‚¹å‡»å¤„ç†</view>
      </view>

      <!-- åº“å­˜é¢„è­¦ -->
      <view class="data-card clickable" bindtap="onInventoryWarningTap">
        <view class="card-header">
          <view class="card-title">åº“å­˜é¢„è­¦</view>
        </view>
        <view class="card-value">{{stats.lowInventory}}</view>
        <view class="card-warning">éœ€è¦è¡¥è´§</view>
      </view>
    </view>

    <!-- çƒ­é—¨å•†å“æ’è¡Œ -->
    <view class="chart-section">
      <view class="chart-card">
        <view class="chart-header">
          <view class="chart-title">çƒ­é—¨å•†å“æ’è¡Œ</view>
        </view>
        <view class="pie-chart-container">
          <canvas canvas-id="pieChart" class="pie-chart"></canvas>
          <view class="chart-legend">
            <view class="legend-item">
              <view class="legend-color color-1"></view>
              <text>3-6å²ä¹æˆæ–°</text>
            </view>
            <view class="legend-item">
              <view class="legend-color color-2"></view>
              <text>0-3å²å…¨æ–°</text>
            </view>
            <view class="legend-item">
              <view class="legend-color color-3"></view>
              <text>6å²ä»¥ä¸Šä¸ƒæˆæ–°</text>
            </view>
            <view class="legend-item">
              <view class="legend-color color-4"></view>
              <text>å…¶ä»–</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- å¿«é€Ÿç»Ÿè®¡å¡ç‰‡ -->
    <view class="quick-stats-section">
      <view class="section-title">ä¸šåŠ¡æ¦‚è§ˆ</view>
      <view class="quick-stats-grid">
        <view class="quick-stat-item">
          <view class="stat-info">
            <view class="stat-value">Â¥12,456</view>
            <view class="stat-label">æœ¬æœˆæ”¶å…¥</view>
          </view>
        </view>
        <view class="quick-stat-item">
          <view class="stat-info">
            <view class="stat-value">128</view>
            <view class="stat-label">æ€»å•†å“æ•°</view>
          </view>
        </view>
        <view class="quick-stat-item">
          <view class="stat-info">
            <view class="stat-value">1,234</view>
            <view class="stat-label">æ€»ç”¨æˆ·æ•°</view>
          </view>
        </view>
        <view class="quick-stat-item">
          <view class="stat-info">
            <view class="stat-value">456</view>
            <view class="stat-label">æ€»è®¢å•æ•°</view>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- ç®¡ç†ç«¯åº•éƒ¨å¯¼èˆª -->
  <view class="admin-tabbar">
    <view class="tab-item {{currentTab === 'home' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="home">
      <view class="tab-icon">ğŸ </view>
      <view class="tab-text">é¦–é¡µ</view>
    </view>
    <view class="tab-item {{currentTab === 'products' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="products">
      <view class="tab-icon">ğŸ“¦</view>
      <view class="tab-text">å•†å“</view>
    </view>
    <view class="tab-item {{currentTab === 'orders' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="orders">
      <view class="tab-icon">ğŸ“‹</view>
      <view class="tab-text">è®¢å•</view>
    </view>
    <view class="tab-item {{currentTab === 'users' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="users">
      <view class="tab-icon">ğŸ‘¥</view>
      <view class="tab-text">ç”¨æˆ·</view>
    </view>
    <view class="tab-item {{currentTab === 'settings' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="settings">
      <view class="tab-icon">âš™ï¸</view>
      <view class="tab-text">è®¾ç½®</view>
    </view>
  </view>
</view> 