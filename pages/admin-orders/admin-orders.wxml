<!--pages/admin-orders/admin-orders.wxml-->
<view class="admin-orders-page">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-title">è®¢å•ç®¡ç†</view>
    <view class="header-actions">
      <text class="search-btn" bindtap="onSearchTap">ğŸ”</text>
      <text class="export-btn" bindtap="onExportTap">ğŸ“Š</text>
    </view>
  </view>

  <!-- è®¢å•çŠ¶æ€ç­›é€‰ -->
  <view class="status-filter">
    <view class="status-item {{currentFilter === 'all' ? 'active' : ''}}" 
          data-filter="all" bindtap="onFilterChange">
      <text class="status-text">å…¨éƒ¨</text>
    </view>
    <view class="status-item {{currentFilter === 'paid' ? 'active' : ''}}" 
          data-filter="paid" bindtap="onFilterChange">
      <text class="status-text">å¾…å‘è´§</text>
    </view>
    <view class="status-item {{currentFilter === 'shipped' ? 'active' : ''}}" 
          data-filter="shipped" bindtap="onFilterChange">
      <text class="status-text">å·²å‘è´§</text>
    </view>
    <view class="status-item {{currentFilter === 'completed' ? 'active' : ''}}" 
          data-filter="completed" bindtap="onFilterChange">
      <text class="status-text">å·²å®Œæˆ</text>
    </view>
    <view class="status-item {{currentFilter === 'cancelled' ? 'active' : ''}}" 
          data-filter="cancelled" bindtap="onFilterChange">
      <text class="status-text">å·²å–æ¶ˆ</text>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="orders-section">
    <block wx:if="{{filteredOrders.length > 0}}">
      <view wx:for="{{filteredOrders}}" wx:key="id" class="order-card">
        
        <!-- ç¬¬ä¸€è¡Œï¼šè®¢å•å·å’ŒçŠ¶æ€ -->
        <view class="order-top-row">
          <view class="order-basic-info">
            <text class="order-id">è®¢å•å·ï¼š{{item.orderNo}}</text>
          </view>
          <view class="status-area">
            <text class="order-status {{item.status}}">{{item.statusText}}</text>
            <text class="status-edit-btn" data-id="{{item.id}}" bindtap="onEditStatus">ä¿®æ”¹</text>
          </view>
        </view>

        <!-- ç¬¬äºŒè¡Œï¼šä¸‹å•æ—¶é—´ -->
        <view class="order-time-row">
          <text class="order-time">ä¸‹å•æ—¶é—´ï¼š{{item.createTime}}</text>
        </view>

        <!-- ç¬¬ä¸‰è¡Œï¼šå®¢æˆ·ä¿¡æ¯å’Œé‡‘é¢ -->
        <view class="order-customer-row">
          <view class="customer-basic">
            <text class="customer-name">{{item.customerName}}</text>
            <text class="customer-phone">{{item.phone}}</text>
          </view>
          <text class="order-total">Â¥{{item.totalAmount}}</text>
        </view>

        <!-- ç¬¬å››è¡Œï¼šåœ°å€å’Œæ“ä½œæŒ‰é’® -->
        <view class="order-bottom-row">
          <text class="customer-address">{{item.address}}</text>
          <view class="order-actions">
            <text class="action-btn secondary" 
                  data-id="{{item.id}}" 
                  bindtap="onViewDetail">
              è®¢å•è¯¦æƒ…
            </text>
          </view>
        </view>

      </view>
    </block>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="empty-state">
      <text class="empty-icon">ğŸ“¦</text>
      <text class="empty-text">æš‚æ— è®¢å•</text>
      <text class="empty-desc">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ‰¾åˆ°ç›¸å…³è®¢å•</text>
    </view>
  </view>

  <!-- ç®¡ç†ç«¯åº•éƒ¨å¯¼èˆª -->
  <view class="admin-tabbar">
    <view class="tab-item {{currentTab === 'home' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="home">
      <view class="tab-icon">ğŸ </view>
      <view class="tab-text">é¦–é¡µ</view>
    </view>
    <view class="tab-item {{currentTab === 'products' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="products">
      <view class="tab-icon">ğŸ“¦</view>
      <view class="tab-text">å•†å“</view>
    </view>
    <view class="tab-item {{currentTab === 'orders' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="orders">
      <view class="tab-icon">ğŸ“‹</view>
      <view class="tab-text">è®¢å•</view>
    </view>
    <view class="tab-item {{currentTab === 'users' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="users">
      <view class="tab-icon">ğŸ‘¥</view>
      <view class="tab-text">ç”¨æˆ·</view>
    </view>
    <view class="tab-item {{currentTab === 'settings' ? 'active' : ''}}" bindtap="onTabSwitch" data-tab="settings">
      <view class="tab-icon">âš™ï¸</view>
      <view class="tab-text">è®¾ç½®</view>
    </view>
  </view>
</view> 