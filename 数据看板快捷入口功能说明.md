# æ•°æ®çœ‹æ¿å¿«æ·å…¥å£åŠŸèƒ½è¯´æ˜

## âœ¨ æ–°å¢åŠŸèƒ½

ä¸ºæ•°æ®çœ‹æ¿çš„ä¸¤ä¸ªå…³é”®å¡ç‰‡æ·»åŠ äº†å¿«æ·è·³è½¬åŠŸèƒ½ï¼š

### 1. å¾…å‘è´§è®¢å• â†’ è®¢å•ç®¡ç†é¡µï¼ˆè‡ªåŠ¨ç­›é€‰å¾…å‘è´§ï¼‰
ç‚¹å‡»"å¾…å‘è´§è®¢å•"å¡ç‰‡çš„"ç‚¹å‡»å¤„ç†"æŒ‰é’®ï¼Œä¼šè·³è½¬åˆ°è®¢å•ç®¡ç†é¡µå¹¶è‡ªåŠ¨ç­›é€‰å‡ºå¾…å‘è´§è®¢å•ã€‚

### 2. åº“å­˜é¢„è­¦ â†’ å•†å“ç®¡ç†é¡µï¼ˆè‡ªåŠ¨ç­›é€‰ä½åº“å­˜ï¼‰
ç‚¹å‡»"åº“å­˜é¢„è­¦"å¡ç‰‡çš„"éœ€è¦è¡¥è´§"æŒ‰é’®ï¼Œä¼šè·³è½¬åˆ°å•†å“ç®¡ç†é¡µå¹¶è‡ªåŠ¨ç­›é€‰å‡ºä½åº“å­˜å•†å“ï¼ˆåº“å­˜ â‰¤ 10ï¼‰ã€‚

## ğŸ”§ å®ç°ç»†èŠ‚

### æ–‡ä»¶ä¿®æ”¹

#### 1. æ•°æ®çœ‹æ¿é¡µé¢ (`pages/admin/admin.js`)

**ä¿®æ”¹æ–¹æ³•**ï¼š
- `onPendingOrdersTap()` - å¾…å‘è´§è®¢å•ç‚¹å‡»
- `onInventoryWarningTap()` - åº“å­˜é¢„è­¦ç‚¹å‡»

**å®ç°é€»è¾‘**ï¼š
```javascript
// è·³è½¬åˆ°è®¢å•ç®¡ç†é¡µï¼Œå¹¶ä¼ é€’ç­›é€‰å‚æ•°
wx.navigateTo({
  url: '/pages/admin-orders/admin-orders?filter=paid'
});

// è·³è½¬åˆ°å•†å“ç®¡ç†é¡µï¼Œå¹¶ä¼ é€’ç­›é€‰å‚æ•°
wx.navigateTo({
  url: '/pages/admin-products/admin-products?filter=lowStock'
});
```

#### 2. è®¢å•ç®¡ç†é¡µé¢ (`pages/admin-orders/admin-orders.js`)

**ä¿®æ”¹ä½ç½®**ï¼š`onLoad(options)` æ–¹æ³•

**åŠŸèƒ½**ï¼šæ¥æ”¶URLå‚æ•° `filter=paid`ï¼Œè‡ªåŠ¨è®¾ç½®ç­›é€‰æ¡ä»¶ä¸ºå¾…å‘è´§

```javascript
onLoad(options) {
  if (options.filter) {
    this.setData({
      currentFilter: options.filter  // è®¾ç½®ä¸º 'paid'
    });
  }
}
```

**æ•ˆæœ**ï¼šé¡µé¢åŠ è½½åè‡ªåŠ¨æ˜¾ç¤ºå¾…å‘è´§è®¢å•

#### 3. å•†å“ç®¡ç†é¡µé¢ (`pages/admin-products/admin-products.js`)

**æ–°å¢æ–¹æ³•**ï¼š`filterLowStock()` - ç­›é€‰ä½åº“å­˜å•†å“

**ä¿®æ”¹ä½ç½®**ï¼š
- `onLoad(options)` æ–¹æ³• - æ¥æ”¶URLå‚æ•°
- `loadProductsFromDatabase()` æ–¹æ³• - æ•°æ®åŠ è½½å®Œæˆååº”ç”¨ç­›é€‰

**ç­›é€‰é€»è¾‘**ï¼š
```javascript
filterLowStock() {
  // ç­›é€‰åº“å­˜ <= 10 ä¸”çŠ¶æ€ä¸º active çš„å•†å“
  const lowStockSkus = group.skus.filter(sku => 
    sku.stock <= 10 && sku.status === 'active'
  );
  
  // æ˜¾ç¤ºç­›é€‰ç»“æœæç¤º
  wx.showToast({
    title: `å‘ç° ${lowStockCount} ä¸ªä½åº“å­˜å•†å“`
  });
}
```

## ğŸ“‹ ä½¿ç”¨æµç¨‹

### åœºæ™¯1ï¼šå¤„ç†å¾…å‘è´§è®¢å•

```
æ•°æ®çœ‹æ¿
  â†“
ç‚¹å‡»"å¾…å‘è´§è®¢å•"å¡ç‰‡çš„"ç‚¹å‡»å¤„ç†"
  â†“
è·³è½¬åˆ°è®¢å•ç®¡ç†é¡µ
  â†“
è‡ªåŠ¨ç­›é€‰æ˜¾ç¤ºå¾…å‘è´§è®¢å•ï¼ˆ18ä¸ªï¼‰
  â†“
å¯ä»¥è¿›è¡Œæ‰¹é‡å‘è´§ã€å•ä¸ªå‘è´§ç­‰æ“ä½œ
```

### åœºæ™¯2ï¼šè¡¥å……ä½åº“å­˜å•†å“

```
æ•°æ®çœ‹æ¿
  â†“
ç‚¹å‡»"åº“å­˜é¢„è­¦"å¡ç‰‡çš„"éœ€è¦è¡¥è´§"
  â†“
è·³è½¬åˆ°å•†å“ç®¡ç†é¡µ
  â†“
è‡ªåŠ¨ç­›é€‰æ˜¾ç¤ºä½åº“å­˜å•†å“ï¼ˆåº“å­˜ â‰¤ 10ï¼‰
  â†“
å¯ä»¥ç¼–è¾‘åº“å­˜ã€ä¿®æ”¹ä»·æ ¼ç­‰æ“ä½œ
```

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

### 1. æ™ºèƒ½ç­›é€‰
- **è®¢å•ç®¡ç†**ï¼šè‡ªåŠ¨ç­›é€‰ `pending` å’Œ `paid` çŠ¶æ€çš„è®¢å•
- **å•†å“ç®¡ç†**ï¼šè‡ªåŠ¨ç­›é€‰åº“å­˜ â‰¤ 10 ä¸”çŠ¶æ€ä¸ºæ´»è·ƒçš„å•†å“

### 2. å‹å¥½æç¤º
- è·³è½¬æˆåŠŸåæ˜¾ç¤ºç­›é€‰ç»“æœæ•°é‡
- å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„é¡¹ç›®ï¼Œæ˜¾ç¤ºç›¸åº”æç¤º

### 3. æ— ç¼ä½“éªŒ
- ä¸€é”®ç›´è¾¾éœ€è¦å¤„ç†çš„å†…å®¹
- çœå»æ‰‹åŠ¨ç­›é€‰çš„æ­¥éª¤
- æé«˜ç®¡ç†æ•ˆç‡

## ğŸ“Š ç¤ºä¾‹æ•ˆæœ

### å¾…å‘è´§è®¢å•è·³è½¬

**ç‚¹å‡»å‰**ï¼šæ•°æ®çœ‹æ¿æ˜¾ç¤º"å¾…å‘è´§è®¢å•ï¼š18"

**ç‚¹å‡»å**ï¼š
```
è®¢å•ç®¡ç†é¡µé¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…¨éƒ¨(22) å¾…å‘è´§(18) ... â”‚  â† è‡ªåŠ¨é€‰ä¸­"å¾…å‘è´§"
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®¢å•1 - å¾…å‘è´§          â”‚
â”‚ è®¢å•2 - å¾…å‘è´§          â”‚
â”‚ ...                     â”‚
â”‚ è®¢å•18 - å¾…å‘è´§         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åº“å­˜é¢„è­¦è·³è½¬

**ç‚¹å‡»å‰**ï¼šæ•°æ®çœ‹æ¿æ˜¾ç¤º"åº“å­˜é¢„è­¦ï¼š1"

**ç‚¹å‡»å**ï¼š
```
å•†å“ç®¡ç†é¡µé¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” å‘ç° 3 ä¸ªä½åº“å­˜å•†å“   â”‚  â† æç¤ºä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0-3å² å…¨æ–° 10æœ¬è£…       â”‚
â”‚ åº“å­˜ï¼š5 âš ï¸              â”‚
â”‚                         â”‚
â”‚ 3-6å² ä¹æˆæ–° 20æœ¬è£…     â”‚
â”‚ åº“å­˜ï¼š8 âš ï¸              â”‚
â”‚                         â”‚
â”‚ 6-12å² ä¸ƒæˆæ–° 15æœ¬è£…    â”‚
â”‚ åº“å­˜ï¼š3 âš ï¸              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” æŠ€æœ¯è¯´æ˜

### URLå‚æ•°ä¼ é€’

ä½¿ç”¨å°ç¨‹åºçš„URLå‚æ•°æœºåˆ¶ï¼š
```javascript
// ä¼ é€’å‚æ•°
wx.navigateTo({
  url: '/pages/xxx?filter=value'
});

// æ¥æ”¶å‚æ•°
onLoad(options) {
  const filter = options.filter;  // è·å– 'value'
}
```

### ç­›é€‰æ—¶æœº

- **è®¢å•ç®¡ç†é¡µ**ï¼šåœ¨ `onLoad` é˜¶æ®µè®¾ç½®ç­›é€‰æ¡ä»¶ï¼Œæ•°æ®åŠ è½½åè‡ªåŠ¨åº”ç”¨
- **å•†å“ç®¡ç†é¡µ**ï¼šåœ¨æ•°æ®åŠ è½½å®Œæˆåï¼ˆ`loadProductsFromDatabase` æœ«å°¾ï¼‰åº”ç”¨ç­›é€‰

### ä½åº“å­˜æ ‡å‡†

æ ¹æ®äº‘å‡½æ•°ç»Ÿè®¡é€»è¾‘ï¼Œä½åº“å­˜å®šä¹‰ä¸ºï¼š
```javascript
stock <= 10  // åº“å­˜å°äºç­‰äº10ä¸ª
```

ä¸æ•°æ®çœ‹æ¿çš„ç»Ÿè®¡ä¿æŒä¸€è‡´ã€‚

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å»¶è¿Ÿç­›é€‰
å•†å“ç®¡ç†é¡µä½¿ç”¨ `pendingFilter` æ ‡è®°ï¼Œç­‰æ•°æ®åŠ è½½å®Œæˆåå†ç­›é€‰ï¼Œé¿å…é‡å¤æŸ¥è¯¢ã€‚

### 2. å•æ¬¡è·³è½¬
ä½¿ç”¨ `wx.navigateTo` è€Œä¸æ˜¯ `wx.redirectTo`ï¼Œä¿ç•™é¡µé¢æ ˆï¼Œæ–¹ä¾¿è¿”å›ã€‚

### 3. é”™è¯¯å¤„ç†
è·³è½¬å¤±è´¥æ—¶æ˜¾ç¤ºå‹å¥½æç¤ºï¼Œä¸ä¼šå¯¼è‡´é¡µé¢å¡æ­»ã€‚

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. **æ·»åŠ è¿”å›æŒ‰é’®æç¤º**
   - åœ¨ç­›é€‰é¡µé¢é¡¶éƒ¨æ˜¾ç¤º"ä»æ•°æ®çœ‹æ¿è·³è½¬"æ ‡è¯†
   - æä¾›å¿«é€Ÿè¿”å›æ•°æ®çœ‹æ¿çš„æŒ‰é’®

2. **è®°ä½ç­›é€‰çŠ¶æ€**
   - ç¦»å¼€é¡µé¢åä¿æŒç­›é€‰çŠ¶æ€
   - æ–¹ä¾¿ç”¨æˆ·ç»§ç»­å¤„ç†

3. **æ•°æ®å®æ—¶åˆ·æ–°**
   - è®¢å•å‘è´§åï¼Œè‡ªåŠ¨æ›´æ–°æ•°æ®çœ‹æ¿æ•°å­—
   - åº“å­˜è¡¥å……åï¼Œè‡ªåŠ¨æ›´æ–°é¢„è­¦æ•°é‡

4. **æ›´å¤šå¿«æ·å…¥å£**
   - æ·»åŠ "æ–°å¢ç”¨æˆ·"å¿«æ·å…¥å£
   - æ·»åŠ "ä»Šæ—¥è®¢å•"å¿«æ·æŸ¥çœ‹

---

**åŠŸèƒ½å®Œæˆæ—¶é—´**: 2025-10-16  
**å®ç°äººå‘˜**: AIåŠ©æ‰‹  
**æµ‹è¯•çŠ¶æ€**: å¾…æµ‹è¯• â³

